<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="All the rules required for a cryptocurrency to have reach consensus across the whole network are complex and hard to completely isolate. Some can be simple parameters (like block reward), others complex algorithms (like Merkle sum trees or reorg rules). However, as long as they’re simple enough, consensus-relevant constants and short functions should be kept here."><meta name="keywords" content="rust, rustlang, rust-lang, consensus"><title>epic_core::consensus - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../epic_core/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module consensus</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="consensus" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">epic_core</a>::<wbr><a class="mod" href="#">consensus</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/epic_core/consensus.rs.html#14-918" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>All the rules required for a cryptocurrency to have reach consensus across
the whole network are complex and hard to completely isolate. Some can be
simple parameters (like block reward), others complex algorithms (like
Merkle sum trees or reorg rules). However, as long as they’re simple
enough, consensus-relevant constants and short functions should be kept
here.</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.HeaderInfo.html" title="epic_core::consensus::HeaderInfo struct">HeaderInfo</a></div><div class="item-right docblock-short"><p>Minimal header information required for the Difficulty calculation to
take place</p>
</div></div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="constant" href="constant.AR_SCALE_DAMP_FACTOR.html" title="epic_core::consensus::AR_SCALE_DAMP_FACTOR constant">AR_SCALE_DAMP_FACTOR</a></div><div class="item-right docblock-short"><p>Dampening factor to use for AR scale calculation.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.AUTOMATEDTEST_FOUNDATION_HEIGHT.html" title="epic_core::consensus::AUTOMATEDTEST_FOUNDATION_HEIGHT constant">AUTOMATEDTEST_FOUNDATION_HEIGHT</a></div><div class="item-right docblock-short"><p>Set the height (and its multiples) where the foundation coinbase will be added to the block.
Used in automated tests.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BASE_EDGE_BITS.html" title="epic_core::consensus::BASE_EDGE_BITS constant">BASE_EDGE_BITS</a></div><div class="item-right docblock-short"><p>Original reference edge_bits to compute difficulty factors for higher
Cuckoo graph sizes, changing this would hard fork</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BASE_REWARD_ERA_6_ONWARDS.html" title="epic_core::consensus::BASE_REWARD_ERA_6_ONWARDS constant">BASE_REWARD_ERA_6_ONWARDS</a></div><div class="item-right docblock-short"><p>Block Reward that will be assigned after we change from era 5 to era 6.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_DIFF_FACTOR_PROGPOW.html" title="epic_core::consensus::BLOCK_DIFF_FACTOR_PROGPOW constant">BLOCK_DIFF_FACTOR_PROGPOW</a></div><div class="item-right docblock-short"><p>Progpow Minimum difficulty (used for saturation)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_DIFF_FACTOR_RANDOMX.html" title="epic_core::consensus::BLOCK_DIFF_FACTOR_RANDOMX constant">BLOCK_DIFF_FACTOR_RANDOMX</a></div><div class="item-right docblock-short"><p>RandomX Minimum difficulty (used for saturation)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_ERA_1.html" title="epic_core::consensus::BLOCK_ERA_1 constant">BLOCK_ERA_1</a></div><div class="item-right docblock-short"><p>Height of the first epic block emission era (1440*334) = 480.960</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_ERA_2.html" title="epic_core::consensus::BLOCK_ERA_2 constant">BLOCK_ERA_2</a></div><div class="item-right docblock-short"><p>Height of the second epic block emission era (480960 + (1440*470)) = 1.157.760</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_ERA_3.html" title="epic_core::consensus::BLOCK_ERA_3 constant">BLOCK_ERA_3</a></div><div class="item-right docblock-short"><p>Height of the third epic block emission era (1157760 + (1440*601)) = 2.023.200</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_ERA_4.html" title="epic_core::consensus::BLOCK_ERA_4 constant">BLOCK_ERA_4</a></div><div class="item-right docblock-short"><p>Height of the fourth epic block emission era</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_ERA_5.html" title="epic_core::consensus::BLOCK_ERA_5 constant">BLOCK_ERA_5</a></div><div class="item-right docblock-short"><p>Height of the fifth epic block emission era</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_ERA_6_ONWARDS.html" title="epic_core::consensus::BLOCK_ERA_6_ONWARDS constant">BLOCK_ERA_6_ONWARDS</a></div><div class="item-right docblock-short"><p>After the epic block emission era 6, each era will last 4 years (approximately 1460 days)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_INPUT_WEIGHT.html" title="epic_core::consensus::BLOCK_INPUT_WEIGHT constant">BLOCK_INPUT_WEIGHT</a></div><div class="item-right docblock-short"><p>Weight of an input when counted against the max block weight capacity</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_KERNEL_WEIGHT.html" title="epic_core::consensus::BLOCK_KERNEL_WEIGHT constant">BLOCK_KERNEL_WEIGHT</a></div><div class="item-right docblock-short"><p>Weight of a kernel when counted against the max block weight capacity</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_OUTPUT_WEIGHT.html" title="epic_core::consensus::BLOCK_OUTPUT_WEIGHT constant">BLOCK_OUTPUT_WEIGHT</a></div><div class="item-right docblock-short"><p>Weight of an output when counted against the max block weight capacity</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_TIME_SEC.html" title="epic_core::consensus::BLOCK_TIME_SEC constant">BLOCK_TIME_SEC</a></div><div class="item-right docblock-short"><p>Block interval, in seconds, the network will tune its next_target for. Note
that we may reduce this value in the future as we get more data on mining
with Cuckoo Cycle, networks improve and block propagation is optimized
(adjusting the reward accordingly).</p>
</div><div class="item-left module-item"><a class="constant" href="constant.BLOCK_TIME_WINDOW.html" title="epic_core::consensus::BLOCK_TIME_WINDOW constant">BLOCK_TIME_WINDOW</a></div><div class="item-right docblock-short"><p>Average time span of the difficulty adjustment window</p>
</div><div class="item-left module-item"><a class="constant" href="constant.CLAMP_FACTOR.html" title="epic_core::consensus::CLAMP_FACTOR constant">CLAMP_FACTOR</a></div><div class="item-right docblock-short"><p>Clamp factor to use for difficulty adjustment
Limit value to within this factor of goal</p>
</div><div class="item-left module-item"><a class="constant" href="constant.COINBASE_MATURITY.html" title="epic_core::consensus::COINBASE_MATURITY constant">COINBASE_MATURITY</a></div><div class="item-right docblock-short"><p>Number of blocks before a coinbase matures and can be spent</p>
</div><div class="item-left module-item"><a class="constant" href="constant.CUT_THROUGH_HORIZON.html" title="epic_core::consensus::CUT_THROUGH_HORIZON constant">CUT_THROUGH_HORIZON</a></div><div class="item-right docblock-short"><p>Default number of blocks in the past when cross-block cut-through will start
happening. Needs to be long enough to not overlap with a long reorg.
Rational
behind the value is the longest bitcoin fork was about 30 blocks, so 5h. We
add an order of magnitude to be safe and round to 7x24h of blocks to make it
easier to reason about.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.DAY_HEIGHT.html" title="epic_core::consensus::DAY_HEIGHT constant">DAY_HEIGHT</a></div><div class="item-right docblock-short"><p>A day is 1440 blocks</p>
</div><div class="item-left module-item"><a class="constant" href="constant.DEFAULT_MIN_EDGE_BITS.html" title="epic_core::consensus::DEFAULT_MIN_EDGE_BITS constant">DEFAULT_MIN_EDGE_BITS</a></div><div class="item-right docblock-short"><p>Default Cuckatoo Cycle edge_bits, used for mining and validating.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.DIFFICULTY_ADJUST_WINDOW.html" title="epic_core::consensus::DIFFICULTY_ADJUST_WINDOW constant">DIFFICULTY_ADJUST_WINDOW</a></div><div class="item-right docblock-short"><p>Number of blocks used to calculate difficulty adjustments</p>
</div><div class="item-left module-item"><a class="constant" href="constant.DIFFICULTY_DAMP_FACTOR.html" title="epic_core::consensus::DIFFICULTY_DAMP_FACTOR constant">DIFFICULTY_DAMP_FACTOR</a></div><div class="item-right docblock-short"><p>Dampening factor to use for difficulty adjustment</p>
</div><div class="item-left module-item"><a class="constant" href="constant.EPIC_BASE.html" title="epic_core::consensus::EPIC_BASE constant">EPIC_BASE</a></div><div class="item-right docblock-short"><p>A epic is divisible to 10^8 like bitcoin</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FLOONET_BLOCK_ERA_1.html" title="epic_core::consensus::FLOONET_BLOCK_ERA_1 constant">FLOONET_BLOCK_ERA_1</a></div><div class="item-right docblock-short"><p>Floonet: Height of the first epic block emission era</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FLOONET_DIFFICULTY_ERA.html" title="epic_core::consensus::FLOONET_DIFFICULTY_ERA constant">FLOONET_DIFFICULTY_ERA</a></div><div class="item-right docblock-short"><p>defines the block height at wich the difficulty adjustment era changes for floonet</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FLOONET_FIRST_HARD_FORK.html" title="epic_core::consensus::FLOONET_FIRST_HARD_FORK constant">FLOONET_FIRST_HARD_FORK</a></div><div class="item-right docblock-short"><p>Floonet first hard fork height</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FLOONET_FOUNDATION_HEIGHT.html" title="epic_core::consensus::FLOONET_FOUNDATION_HEIGHT constant">FLOONET_FOUNDATION_HEIGHT</a></div><div class="item-right docblock-short"><p>Set the height (and its multiples) where the foundation coinbase will be added to the block.
Used in the Floonet.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FOUNDATION_LEVY.html" title="epic_core::consensus::FOUNDATION_LEVY constant">FOUNDATION_LEVY</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="constant" href="constant.FOUNDATION_LEVY_ERA_1.html" title="epic_core::consensus::FOUNDATION_LEVY_ERA_1 constant">FOUNDATION_LEVY_ERA_1</a></div><div class="item-right docblock-short"><p>Duration in height of the first foundation levy era
NOTE_L: Adjust this before the official launch</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FOUNDATION_LEVY_ERA_2_ONWARDS.html" title="epic_core::consensus::FOUNDATION_LEVY_ERA_2_ONWARDS constant">FOUNDATION_LEVY_ERA_2_ONWARDS</a></div><div class="item-right docblock-short"><p>After the first foundation levy era, we decrease the foundation levy each year</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FOUNDATION_LEVY_RATIO.html" title="epic_core::consensus::FOUNDATION_LEVY_RATIO constant">FOUNDATION_LEVY_RATIO</a></div><div class="item-right docblock-short"><p>The foundation levy in each era</p>
</div><div class="item-left module-item"><a class="constant" href="constant.FREEMAN.html" title="epic_core::consensus::FREEMAN constant">FREEMAN</a></div><div class="item-right docblock-short"><p>Freeman, smallest unit, takes a hundred million to make a epic</p>
</div><div class="item-left module-item"><a class="constant" href="constant.HOUR_HEIGHT.html" title="epic_core::consensus::HOUR_HEIGHT constant">HOUR_HEIGHT</a></div><div class="item-right docblock-short"><p>Nominal height for standard time intervals, hour is 60 blocks</p>
</div><div class="item-left module-item"><a class="constant" href="constant.INITIAL_DIFFICULTY.html" title="epic_core::consensus::INITIAL_DIFFICULTY constant">INITIAL_DIFFICULTY</a></div><div class="item-right docblock-short"><p>The initial difficulty at launch. This should be over-estimated
and difficulty should come down at launch rather than up
Currently grossly over-estimated at 10% of current
ethereum GPUs (assuming 1GPU can solve a block at diff 1 in one block interval)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MAINNET_DIFFICULTY_ERA.html" title="epic_core::consensus::MAINNET_DIFFICULTY_ERA constant">MAINNET_DIFFICULTY_ERA</a></div><div class="item-right docblock-short"><p>defines the block height at wich the difficulty adjustment era changes</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MAINNET_FIRST_HARD_FORK.html" title="epic_core::consensus::MAINNET_FIRST_HARD_FORK constant">MAINNET_FIRST_HARD_FORK</a></div><div class="item-right docblock-short"><p>Mainnet first hard fork height, set to happen around 2020-04-29</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MAINNET_FOUNDATION_HEIGHT.html" title="epic_core::consensus::MAINNET_FOUNDATION_HEIGHT constant">MAINNET_FOUNDATION_HEIGHT</a></div><div class="item-right docblock-short"><p>Set the height (and its multiples) where the foundation coinbase will be added to the block.
This variable will sparse the blocks that receive the foundation coinbase.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MAX_BLOCK_WEIGHT.html" title="epic_core::consensus::MAX_BLOCK_WEIGHT constant">MAX_BLOCK_WEIGHT</a></div><div class="item-right docblock-short"><p>Total maximum block weight. At current sizes, this means a maximum
theoretical size of:</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MICRO_EPIC.html" title="epic_core::consensus::MICRO_EPIC constant">MICRO_EPIC</a></div><div class="item-right docblock-short"><p>Microepic, a thousand of a milliepic</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MILLI_EPIC.html" title="epic_core::consensus::MILLI_EPIC constant">MILLI_EPIC</a></div><div class="item-right docblock-short"><p>Milliepic, a thousand of a epic</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MIN_AR_SCALE.html" title="epic_core::consensus::MIN_AR_SCALE constant">MIN_AR_SCALE</a></div><div class="item-right docblock-short"><p>Minimum scaling factor for AR pow, enforced in diff retargetting
avoids getting stuck when trying to increase ar_scale subject to dampening</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MIN_DIFFICULTY.html" title="epic_core::consensus::MIN_DIFFICULTY constant">MIN_DIFFICULTY</a></div><div class="item-right docblock-short"><p>Minimum difficulty, enforced in diff retargetting
avoids getting stuck when trying to increase difficulty subject to dampening</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MIN_DIFFICULTY_PROGPOW.html" title="epic_core::consensus::MIN_DIFFICULTY_PROGPOW constant">MIN_DIFFICULTY_PROGPOW</a></div><div class="item-right docblock-short"><p>Progpow Minimum difficulty (used for saturation)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.MIN_DIFFICULTY_RANDOMX.html" title="epic_core::consensus::MIN_DIFFICULTY_RANDOMX constant">MIN_DIFFICULTY_RANDOMX</a></div><div class="item-right docblock-short"><p>RandomX Minimum difficulty (used for saturation)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.OLD_MIN_DIFFICULTY_PROGPOW.html" title="epic_core::consensus::OLD_MIN_DIFFICULTY_PROGPOW constant">OLD_MIN_DIFFICULTY_PROGPOW</a></div><div class="item-right docblock-short"><p>Progpow Minimum difficulty until fork (used for saturation)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.OLD_MIN_DIFFICULTY_RANDOMX.html" title="epic_core::consensus::OLD_MIN_DIFFICULTY_RANDOMX constant">OLD_MIN_DIFFICULTY_RANDOMX</a></div><div class="item-right docblock-short"><p>RandomX Minimum difficulty until fork (used for saturation)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.PP_CLAMP_FACTOR.html" title="epic_core::consensus::PP_CLAMP_FACTOR constant">PP_CLAMP_FACTOR</a></div><div class="item-right docblock-short"><p>Clamp factor to use for difficulty adjustment
Limit value to within this factor of goal</p>
</div><div class="item-left module-item"><a class="constant" href="constant.PP_DIFFICULTY_DAMP_FACTOR.html" title="epic_core::consensus::PP_DIFFICULTY_DAMP_FACTOR constant">PP_DIFFICULTY_DAMP_FACTOR</a></div><div class="item-right docblock-short"><p>Dampening factor to use for difficulty adjustment</p>
</div><div class="item-left module-item"><a class="constant" href="constant.PROOFSIZE.html" title="epic_core::consensus::PROOFSIZE constant">PROOFSIZE</a></div><div class="item-right docblock-short"><p>Cuckoo-cycle proof size (cycle length)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.RX_CLAMP_FACTOR.html" title="epic_core::consensus::RX_CLAMP_FACTOR constant">RX_CLAMP_FACTOR</a></div><div class="item-right docblock-short"><p>Clamp factor to use for difficulty adjustment
Limit value to within this factor of goal</p>
</div><div class="item-left module-item"><a class="constant" href="constant.RX_DIFFICULTY_DAMP_FACTOR.html" title="epic_core::consensus::RX_DIFFICULTY_DAMP_FACTOR constant">RX_DIFFICULTY_DAMP_FACTOR</a></div><div class="item-right docblock-short"><p>Dampening factor to use for difficulty adjustment</p>
</div><div class="item-left module-item"><a class="constant" href="constant.SECOND_POW_EDGE_BITS.html" title="epic_core::consensus::SECOND_POW_EDGE_BITS constant">SECOND_POW_EDGE_BITS</a></div><div class="item-right docblock-short"><p>Cuckaroo proof-of-work edge_bits, meant to be ASIC resistant.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.STATE_SYNC_THRESHOLD.html" title="epic_core::consensus::STATE_SYNC_THRESHOLD constant">STATE_SYNC_THRESHOLD</a></div><div class="item-right docblock-short"><p>Default number of blocks in the past to determine the height where we request
a txhashset (and full blocks from). Needs to be long enough to not overlap with
a long reorg.
Rational behind the value is the longest bitcoin fork was about 30 blocks, so 5h.
We add an order of magnitude to be safe and round to 2x24h of blocks to make it
easier to reason about.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.TESTING_DIFFICULTY_ERA.html" title="epic_core::consensus::TESTING_DIFFICULTY_ERA constant">TESTING_DIFFICULTY_ERA</a></div><div class="item-right docblock-short"><p>defines the block height at wich the difficulty adjustment era changes for testing</p>
</div><div class="item-left module-item"><a class="constant" href="constant.TESTING_FIRST_HARD_FORK.html" title="epic_core::consensus::TESTING_FIRST_HARD_FORK constant">TESTING_FIRST_HARD_FORK</a></div><div class="item-right docblock-short"><p>AutomatedTesting and UserTesting first hard fork height.</p>
</div><div class="item-left module-item"><a class="constant" href="constant.UNIT_DIFFICULTY.html" title="epic_core::consensus::UNIT_DIFFICULTY constant">UNIT_DIFFICULTY</a></div><div class="item-right docblock-short"><p>unit difficulty, equal to graph_weight(SECOND_POW_EDGE_BITS)</p>
</div><div class="item-left module-item"><a class="constant" href="constant.WEEK_HEIGHT.html" title="epic_core::consensus::WEEK_HEIGHT constant">WEEK_HEIGHT</a></div><div class="item-right docblock-short"><p>A week is 10_080 blocks</p>
</div><div class="item-left module-item"><a class="constant" href="constant.YEAR_HEIGHT.html" title="epic_core::consensus::YEAR_HEIGHT constant">YEAR_HEIGHT</a></div><div class="item-right docblock-short"><p>A year is 524_160 blocks</p>
</div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.add_reward_foundation.html" title="epic_core::consensus::add_reward_foundation fn">add_reward_foundation</a></div><div class="item-right docblock-short"><p>Check if the current height is a foundation height, if it’s, the function returns the cumulative
foundation reward value for one DAY_HEIGHT. Otherwise, the function returns 0.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.ar_count.html" title="epic_core::consensus::ar_count fn">ar_count</a></div><div class="item-right docblock-short"><p>Count, in units of 1/100 (a percent), the number of “secondary” (AR) blocks in the provided window of blocks.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.block_total_reward_at_height.html" title="epic_core::consensus::block_total_reward_at_height fn">block_total_reward_at_height</a></div><div class="item-right docblock-short"><p>Compute the total reward generated by each block in a given height.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.clamp.html" title="epic_core::consensus::clamp fn">clamp</a></div><div class="item-right docblock-short"><p>limit value to be within some factor from a goal</p>
</div><div class="item-left module-item"><a class="fn" href="fn.cumulative_reward_foundation.html" title="epic_core::consensus::cumulative_reward_foundation fn">cumulative_reward_foundation</a></div><div class="item-right docblock-short"><p>Sum all the foundation reward, to send one</p>
</div><div class="item-left module-item"><a class="fn" href="fn.damp.html" title="epic_core::consensus::damp fn">damp</a></div><div class="item-right docblock-short"><p>Move value linearly toward a goal</p>
</div><div class="item-left module-item"><a class="fn" href="fn.difficultyfix_height.html" title="epic_core::consensus::difficultyfix_height fn">difficultyfix_height</a></div><div class="item-right docblock-short"><p>Get the height where the difficulty patch will be added.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.first_fork_height.html" title="epic_core::consensus::first_fork_height fn">first_fork_height</a></div><div class="item-right docblock-short"><p>Get the height of the first epic hard fork</p>
</div><div class="item-left module-item"><a class="fn" href="fn.floonet_block_total_reward_at_height.html" title="epic_core::consensus::floonet_block_total_reward_at_height fn">floonet_block_total_reward_at_height</a></div><div class="item-right docblock-short"><p>Floonet: Compute the total reward generated by each block in a given height.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.foundation_height.html" title="epic_core::consensus::foundation_height fn">foundation_height</a></div><div class="item-right docblock-short"><p>Get the height where the foundation coinbase will be added to the block.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.foundation_index.html" title="epic_core::consensus::foundation_index fn">foundation_index</a></div><div class="item-right docblock-short"><p>Get the current position of the foundation coinbase in the file <code>foundation.json</code> based on the block’s height</p>
</div><div class="item-left module-item"><a class="fn" href="fn.graph_weight.html" title="epic_core::consensus::graph_weight fn">graph_weight</a></div><div class="item-right docblock-short"><p>Compute weight of a graph as number of siphash bits defining the graph
Must be made dependent on height to phase out smaller size over the years
This can wait until end of 2019 at latest</p>
</div><div class="item-left module-item"><a class="fn" href="fn.header_version.html" title="epic_core::consensus::header_version fn">header_version</a></div><div class="item-right docblock-short"><p>Compute possible block version at a given height</p>
</div><div class="item-left module-item"><a class="fn" href="fn.is_foundation_height.html" title="epic_core::consensus::is_foundation_height fn">is_foundation_height</a></div><div class="item-right docblock-short"><p>Check if the given height is a foundation height. A foundation height is a height where we add
the foundation levy. To be a foundation height the height has to be multiple of the foundation height
and we have to have a foundation levy (following the schedule) different from zero for that height.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.mainnet_block_total_reward_at_height.html" title="epic_core::consensus::mainnet_block_total_reward_at_height fn">mainnet_block_total_reward_at_height</a></div><div class="item-right docblock-short"><p>Mainnet: Compute the total reward generated by each block in a given height.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.next_difficulty.html" title="epic_core::consensus::next_difficulty fn">next_difficulty</a></div><div class="item-right docblock-short"><p>Computes the proof-of-work difficulty that the next block should comply
with. Takes an iterator over past block headers information, from latest
(highest height) to oldest (lowest height).</p>
</div><div class="item-left module-item"><a class="fn" href="fn.next_difficulty_era1.html" title="epic_core::consensus::next_difficulty_era1 fn">next_difficulty_era1</a></div><div class="item-right docblock-short"><p>changes the header info with new difficulty era1 for the block to mine</p>
</div><div class="item-left module-item"><a class="fn" href="fn.next_hash_difficulty.html" title="epic_core::consensus::next_hash_difficulty fn">next_hash_difficulty</a></div><div class="item-right docblock-short"><p>calculates the next difficulty level for progpow and randomx</p>
</div><div class="item-left module-item"><a class="fn" href="fn.next_policy.html" title="epic_core::consensus::next_policy fn">next_policy</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="fn" href="fn.reward.html" title="epic_core::consensus::reward fn">reward</a></div><div class="item-right docblock-short"><p>Get the total mining reward (with fee) based on the height</p>
</div><div class="item-left module-item"><a class="fn" href="fn.reward_at_height.html" title="epic_core::consensus::reward_at_height fn">reward_at_height</a></div><div class="item-right docblock-short"><p>Get the mining reward at current height</p>
</div><div class="item-left module-item"><a class="fn" href="fn.reward_foundation.html" title="epic_core::consensus::reward_foundation fn">reward_foundation</a></div><div class="item-right docblock-short"><p>Get the current value of the mining reward + foundation levy for a given height</p>
</div><div class="item-left module-item"><a class="fn" href="fn.reward_foundation_at_height.html" title="epic_core::consensus::reward_foundation_at_height fn">reward_foundation_at_height</a></div><div class="item-right docblock-short"><p>Compute the foundation levy for each block.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.secondary_pow_ratio.html" title="epic_core::consensus::secondary_pow_ratio fn">secondary_pow_ratio</a></div><div class="item-right docblock-short"><p>Ratio the secondary proof of work should take over the primary, as a
function of block height (time). Starts at 90% losing a percent
approximately every week. Represented as an integer between 0 and 100.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.secondary_pow_scaling.html" title="epic_core::consensus::secondary_pow_scaling fn">secondary_pow_scaling</a></div><div class="item-right docblock-short"><p>Factor by which the secondary proof of work difficulty will be adjusted</p>
</div><div class="item-left module-item"><a class="fn" href="fn.timestamp_median.html" title="epic_core::consensus::timestamp_median fn">timestamp_median</a></div><div class="item-right docblock-short"><p>returns the median timestamp from last 6 mined blocks</p>
</div><div class="item-left module-item"><a class="fn" href="fn.total_overage_at_height.html" title="epic_core::consensus::total_overage_at_height fn">total_overage_at_height</a></div><div class="item-right docblock-short"><p>The total overage at a given height. Variable due to changing rewards
TODOBG: Make this more efficient by hardcoding reward schedule times</p>
</div><div class="item-left module-item"><a class="fn" href="fn.valid_header_version.html" title="epic_core::consensus::valid_header_version fn">valid_header_version</a></div><div class="item-right docblock-short"><p>Check whether the block version is valid at a given height, implements
6 months interval scheduled hard forks for the first 2 years.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="epic_core" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>